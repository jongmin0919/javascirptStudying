1-1 전역 개체

자바스크립트에서 코드가 실행 되기 전 단계에서 자바스크립트에 의해 어떤 객체보다도 먼저 생성되는 객체를 전역 객체라고 하며, 계층적 구조상 어떠한 객체에도 속하지 않는 최상위 객체로서, 앞서 살펴본 표준 빌트인 객체 또한 전역 객체 중 하나이며, 이 외에 호스트 객체, var 키워로 선언한 전역 변수 및 함수, 프로퍼티 등을 의미합니다. 이때 var 키워드로 선언된 전역 변수 및 식별자만 단독으로 사용된 변수에 대한 암묵적 전역 및 전역 함수는 전역 객체의 프로퍼티가 됩니다.

이 전역 객체는 자바스크립트가 실행 되는 환경마다 다른데, 윈도우 환경에서는 window 혹은 this, Node.js 환경에서는 global이 사용됩니다. 그리고 ES11에서 도입된 globalThis 객체는 이 각각의 환경에서 이들 전역 객체를 가리키던 다양한 식별자들을 통일한 식별자로서, ESMAScript의 표준 사양을 준수하는 모든 실행 환경에서 사용이 가능합니다.

```

① 윈도우 환경 및 노드 환경에서의 전역 객체)

globalThis === this; // this 키워드는 윈도우 및 노드 환경에서 공통된 전역 객체입니다.
globalThis === window; // window 객체는 윈도우 실행 환경에서의 전역 객체를 가리키는 식별자 입니다.
globalThis === global; // global 객체는 노드 실행 환경에서의 전역 객체를 가리키는 식별자 입니다.

② 전역 객체의 프로퍼티로 취급 되는 상황들)

var name = "Re_Go"; // var로 선언된 변수는
console.log(window.name); // 해당 환경에서의 전역 객체의 프로퍼티가 되며, 여기서 var은 전역 객체(window)의 프로퍼티로 취급 되더라고 엄연한 변수이기 때문에 delete로 삭제가 불가능합니다.

y = 10; // 키워드 없이 선언된 변수는 자바스크립트 엔진에 의해 window.y로 해석하여 마치 전역 변수인 듯 취급되는 현상인 암묵적 전역 현상에 의해
console.log(window.y); // 해당 환경에서의 전역 객체의 프로퍼티가 됩니다. 단 y는 변수가 아니므로 변수 호이스팅이 발생되지 않으며, delete 연산자는 객체 내의 프로퍼티를 삭제하는대에 사용되기 때문에 키워드가 없는 식별자는 전역 변수로 취급되더라도, 삭제시에는 객체의 프로퍼티로 취급 되므로 delete로 삭제가 가능합니다.

let x = 20;
console.log(x+y); // 물론 y는 호이스팅만 되지 않을 뿐, 선언 후  

function sayHello() { // 전역 함수를 생성하면
    return console.log(`Hello World!`);
};
window.sayHello(); // 해당 환경에서의 전역 객체의 프로퍼티(메서드)가 됩니다.

function add(){
    var x = 10;
    y = 20;
}
delete window.x;
delete window.yl

```

- 이러한 전역 객체는 다음과 같은 특징을 가지고 있습니다.

1. 개발자가 의도적으로 전역 객체를 생성할 수 있는 생성자 함수가 제공되지 않습니다. 즉 이 말은 var 키워드로 객체를 생성할 때에는 자바스크립트 엔진이 자동적으로 해당 변수나 함수, 메서드를 전역 속성으로 취급을 함으로 개발자의 의도대로 전역 객체가 만들어지는 과정이 아니며, 빌트인 객체들도 통한 객체 생성들도 마찬가지로 자바스크립트 환경에서 자동적으로 생성되고 제공되는 것이기에 이 방법 또한 개발자의 의도대로 전역 객체를 생성할 수 없다고 볼 수 있는 것이죠.

2. 전역 객체의 프로퍼티를 참조할 시 전역 객체 식별자(window 혹은 global)을 생략할 수 있다. 즉 각각의 전역 객체 키워드를 제외하고 표준 빌트인 객체들의 메서드 및 프로퍼티를 단독으로 사용하는것이 가능하다는 설명입니다.

```
window.parseInt('F', 16); // 문자 F를 16진수로 해석하여 10진수로 반환하는 parseInt 메서드 등, 기본적으로 제공 되는 표준 빌트인 객체들의  메서드와 프로퍼티들을 갖고 있으므로

parseInt('F', 16); // 다음 문구처럼 해당 메서드 및 프로퍼티를 참조시 식별자 생략이 가능합니다.

```

1-2 빌트인 전역 프로퍼티와 함수

전역 프로퍼티는 그 수가 많아 앞서 말씀드린대로 기본적으로 제공 되는 각 빌트인 객체들의 프로퍼티라고 보시면 되는데, 속성 프로퍼티만 따지면 Infinity, NaN, undefined가 있으며 null은 유일하게 전역 객체의 프로퍼티가 아닙니다. 

또한 앞서 언급한대로, 전역 변수로서가 아닌 암묵적 전역 현상(키워드 없이 선언되고 초기화 된 식별자)에 의해 전역 변수 취급되는 프로퍼티는 delete 연산자로 삭제가 가능하나, 그 이외에 전역 변수(var 등의 경우)는 delete 연산자로 삭제가 불가능합니다.

더불어서 빌트인 전역 함수는 eval, isFinite, isNaN, isUndefined 등이 있으며, 특히 eval은 여러 이슈로 사용이 금기시 되고 있습니다.


